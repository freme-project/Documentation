<!DOCTYPE html>
<html>
  <head>
      <link rel="shortcut icon" href="http://www.freme-project.eu/wp-content/themes/vantage-child-01/favicon.png" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FREME Documentation - Authentication</title>
    <meta name="description" content="This site contains the documentation of the FREME project. The API documentation shows how to use FREMEs API. FREME showroom displays FREME in action. It contains demos, videos and other material to show what FREME can do. The tutorials section shows the capabilities of FREME and explains how to do certain things with the API. Knowledge Base contains a series of articles about FREME. Further there is page about License and Contact.">

  
	<link rel="stylesheet" href="/doc/css/bootstrap.min.css">
	<link rel="stylesheet" href="/doc/css/style.css">
	<link rel="stylesheet" href="/doc/css/overwrite.css">
	<link rel="canonical" href="http://api-dev.freme-project.eu/docknowledge-base/authentication.html">
	<link rel="alternate" type="application/rss+xml" title="FREME Documentation" href="http://api-dev.freme-project.eu/doc/feed.xml" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src=/doc/js/bootstrap.min.js
	></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script type="text/javascript">
		var fremeApiUrl= "http://api-dev.freme-project.eu/current";
	</script>
  </head>
  <body>

    <div class = "navbar navbar-default navbar-static-top">
	<div class = "container">
	
		<div class = "navbar-header">
								
			<button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
				<span class = "icon-bar"></span>
				<span class = "icon-bar"></span>
				<span class = "icon-bar"></span>
			</button>
			<a href="/doc/home.html"><img src=/doc/img/Logo_FREME_icona_vert.png alt="FREME Logo" class = "navbar-logo"></a>
			<!-- <a href = "#" class = "navbar-brand">FREME Documentation</a> -->
		</div>
			
			<div class = "collapse navbar-collapse navHeaderCollapse">
			
				<ul class = "nav navbar-nav navbar-left">
			
			
			
			
			</ul>
			
		</div>
		
	</div>
</div>


	<div class = "container">
		<div class="post">

  <article class="post-content">
    <h1 id="authentication">Authentication</h1>

<p>This Article explains which FREME e-Services need authenticated access and how to perform this.</p>

<h2 id="restricted-endpoints">Restricted endpoints</h2>

<p>Some FREME endpoints are only accessible as authenticated user. At the moment these are:</p>

<ul>
  <li>POST, PUT and DELETE <code>/e-link/templates/{templateID}</code> (template handling that needs write access)</li>
  <li>POST, PUT and DELETE <code>/toolbox/filter/manage/{filterName}</code> (filter handling that needs write access)</li>
  <li>GET, DELETE <code>/user/{userName}</code> and GET <code>/user</code> (user handling, except POST <code>/user</code>)</li>
</ul>

<p>Furthermore, the following FREME endpoints are restricted in such a way, that you can use them only with public resources (e.g. public templates), if you are not authenticated:</p>

<ul>
  <li>POST <code>/e-link/documents</code></li>
</ul>

<p>The result of the resource managament endpoints</p>

<ul>
  <li>GET <code>/e-link/templates</code>  </li>
  <li>GET <code>/toolbox/filter/manage</code></li>
</ul>

<p>differs according to the authenticated user: only the resources the user has read access to are returned.</p>

<h2 id="restricted-resources">Restricted resources</h2>

<p>At the moment <strong>templates</strong> and <strong>filters</strong> are restricted.</p>

<p>In general, all public restricted resources can be accessed with read access, writing is permitted. Private restricted resources can not be written, read or used in any FREME e-service by anyone except the owner. By default, a created restricted resource is public. This can be changed by the parameter <code>visibility</code> when creating or updating a restricted resource.</p>

<h2 id="how-to-authenticate">How to authenticate</h2>

<p>To perform authenticated endpoint calls you have to do the following:</p>

<ol>
  <li>create an user</li>
  <li>retrieve an access token</li>
  <li>attach this token to the endpoint call</li>
</ol>

<h3 id="how-to-create-a-user">How to create a user</h3>

<p>If you havenâ€™t done before, you have to create an user. This can be established via the <a href="http://api-dev.freme-project.eu/doc/api-doc/full.html#!/User/post_user">FREME api documentation page</a> or by performing a POST call to <code>/user</code>:</p>

<p><code>
curl -X POST "http://api-dev.freme-project.eu/current/user?username=YOUR_USERNAME&amp;password=YOUR_PASSWORD"
</code></p>

<h3 id="how-to-create-an-access-token">How to create an access token</h3>

<p>An access token can be retrieved via the <a href="http://api-dev.freme-project.eu/doc/api-doc/full.html#!/Authenticate/post_authenticate">FREME api documentation page</a> or by calling the <code>/authenticate</code> endpoint with your user credentials:</p>

<p><code>
curl -X POST --header "X-Auth-Username: YOUR_USERNAME" --header "X-Auth-Password: YOUR_PASSWORD" "http://api-dev.freme-project.eu/current/authenticate"
</code></p>

<p>The response will contain your access token. It will look similar to this:</p>

<p><code>
  {
      "token": "f81ccf99-1d01-4e79-9a0b-8dfe84d8303c"
  }
</code></p>

<h3 id="how-to-attach-an-access-token-to-an-api-call">How to attach an access token to an API call</h3>

<p>To use FREME e-Services as authenticated user just attach your token as <code>X-Auth-Token</code> to the request header:</p>

<p><code>
curl -X POST --header "X-Auth-Token: f81ccf99-1d01-4e79-9a0b-8dfe84d8303c" "http://api-dev.freme-project.eu/current/e-link/templates?outformat=turtle&amp;informat=json"
</code></p>

<h2 id="user-roles">User roles</h2>

<p>In FREME users can have two roles: ROLE_USER and ROLE_ADMIN. All users registered via the API have ROLE_USER. Admin users can promote normal users to be administrators. An admin user can be configured using the admin.create, admin.username, admin.password configuration options (see <a href="http://api-dev.freme-project.eu/doc/knowledge-base/configuration-options.html">FREME configuration options</a>).</p>

<p>In general ROLE_USER implies read access to all public resources and to all private resources the user owns. ROLE_USER implies write access to all resources the user owns.</p>

<p>ROLE_ADMIN provides read and write access to all resources in the system.</p>

  </article>

</div>

	</div>

    
<footer class="footer">

		<div class = "navbar navbar-default navbar-fixed-bottom">
		
			<div class = "container">
				<p class = "navbar-text">FREME is being developed by the FREME Consortium.</p>
					<p class="text-center"><img height="40"  alt="eu-flag"	 width="60" src="http://www.freme-project.eu/wp-content/uploads/2015/02/flag_yellow_high-272x182.jpg"></p>
				<p class="navbar-text">Co-funded by the EC under the H2020 Framework Programme for Research and Innovation | Grant agreement number 644771.</p>
			</div>
			
		</div>
		
</footer>


  </body>

</html>
