---
layout: page 
title: Getting started with e-Link
dropdown: Tutorials
pos: 3.1
---

<h1>Getting started with e-Link</h1>
<div>
    <h2>Introduction</h2>
    <p>This service accepts a NIF document (with annotated entities) and performs enrichment with pre-defined templates.
    The templates contain "fields" marked between three at-signs @@@field-name@@@.
    If a user, while calling the enrichment endpoint specifies an "unknown" parameter (not from the list above), then the values of that "unknown" parameters will be used to replace with the corresponding "field" in the query template.</p>
    
    
    <h3>Quick links</h3>
    <ol>
    	<li><a href="#pre-requisites">Pre-requisites</a></li>
    	<li><a href="#what-is-a-template">What is a template?</a></li>
    	<li><a href="#step-1-enrich">Enrich NIF content with predefined query templates</a></li>
    	<li><a href="#step-2-explore">Exploring a resource against a SPARQL or LDF endpoint</a></li>
    	<li><a href="#step-3-template-manipulation">Manipulation with templates</a>
	    <ol>
                <li><a href="#step-3-1-template-manipulation">Get all templates</a></li>
                <li><a href="#step-3-2-template-manipulation">Get one template</a></li>
                <li><a href="#step-3-3-template-manipulation">Create template</a></li>
                <li><a href="#step-3-4-template-manipulation">Update template</a></li>
                <li><a href="#step-3-5-template-manipulation">Remove template</a></li>
	    </ol>
    	</li>
    	<li><a href="#freme-endpoints">FREME SPARQL and LDF endpoints </a></li>
    </ol>
    
</div>

<div>
    <h2 id="pre-requisites">Pre-requisites</h2>
    <ol>
        <li>A pre-defined template(s).</li>
        <li>An RDF document for enrichment.</li>
    </ol>
</div>

<script type="text/javascript">
    var datasetName;
    var submittedDatasets=[];

    function updateDatasetName(){
        datasetName=$("#dataset-name").val();
    }

    $("#dataset-name").change(updateDatasetName);

    function sendDatasetCreateRequest() {
        updateDatasetName();
	$.ajax({
	    url: fremeApiUrl + "/e-entity/freme-ner/datasets?"
	    +"informat="+$("#informat-dataset").val()
	    +"&name="+datasetName
	    +"&description="+$("#dataset-description").val()
	    +"&language=en"
	    +"&outformat=json",
            type: "POST",
	    dataType: "text",
	    contentType: 'text/plain',
            data: $("#data-for-enrichment").val(),
        success : function(result){
            submittedDatasets.push(datasetName);
            $("#delete-dataset-name").val(datasetName);
            $("#dataset-creation-response").text(result)},
        error: function(result){
            $("#dataset-creation-response").text(JSON.stringify(result))}
	});
       };
       
    // Enrich content
    function sendDataForEnrichment() {
    	console.log($("#data-for-enrichment").val())
	$.ajax({
	    url: fremeApiUrl + "/e-link/documents?"
	    +"informat="+$("#enrichment-informat").val()
	    +"&outformat=turtle"
	    +"&templateid="+$("#enrichment-template-id").val(),
            type: "POST",
	    dataType: "text",
	    contentType: "text/turtle",
            data: $("#data-for-enrichment").val()
        }).done(function(result){
    	    $("#enrichment-response").text(result);
	}).fail(function(result) {
    	    $("#enrichment-response").text(JSON.stringify(result));
	});
    };
      
    // Explore resource
    function sendExploreResource() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/explore?"
	    +"resource="+$("#resource-uri").val()
	    +"&outformat=turtle"
	    +"&endpoint="+$("#endpoint-url").val()
	    +"&endpoint-type="+$("#endpoint-type").val(),
            type: "POST",
	    dataType: "text",
	    contentType: "text/plain"
        }).done(function(result){
    	    $("#explore-resource-results").text(result);
	}).fail(function(result) {
    	    $("#explore-resource-results").text(JSON.stringify(result));
	});
       };
       
    // Get all templates
    function sendGetAllTemplates() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/templates?"
	    +"outformat=json",
	    type: "GET",
	    contentType: ""
        }).done(function(result){
    	    $("#get-all-templates-results").text(JSON.stringify(result, null, 2));
	}).fail(function(result) {
    	    $("#get-all-templates-results").text(JSON.stringify(result));
	});
    };
    
    // Get one template
    function sendGetOneTemplate() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/templates/"
	    +$("#get-one-template-id").val()
	    +"?outformat=json",
	    type: "GET",
	    contentType: ""
        }).done(function(result){
    	    $("#get-one-template-results").text(JSON.stringify(result, null, 2));
	}).fail(function(result) {
    	    $("#get-one-template-results").text(JSON.stringify(result, null, 2));
	});
    };
    
    // Create template
    function sendCreateTemplate() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/templates?"
	    +"informat=json"
	    +"&outformat=json",
            type: "POST",
	    dataType: "text",
	    contentType: "application/json",
	    accept: "application/json",
            data: $("#template-data").val()
        }).done(function(result){
    	    $("#create-template-results").text(JSON.stringify(result, null, 2));
	}).fail(function(result) {
    	    $("#create-template-results").text(JSON.stringify(result));
	});
    };
       
    // Update template
    function sendUpdateTemplate() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/templates?"+$("#template-id-for-update").val()
	    +"informat=json"
	    +"&outformat=json",
            type: "POST",
	    dataType: "text",
	    contentType: "application/json",
	    accept: "application/json",
            data: $("#template-data-update").val()
        }).done(function(result){
    	    $("#update-template-results").text(JSON.stringify(result, null, 2));
	}).fail(function(result) {
    	    $("#update-template-results").text(JSON.stringify(result));
	});
    };
    
    // Remove template
    function sendRemoveTemplate() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/templates/"+$("#remove-template-id").val(),
            type: "DELETE",
	    dataType: "text"
        }).done(function(result){
    	    $("#remove-template-results").text(JSON.stringify(result, null, 2));
	}).fail(function(result) {
    	    $("#remove-template-results").text(JSON.stringify(result, null, 2));
	});
    };
    
    function sendDatasetDeleteRequest() {
        var datasetToDelete= $("#delete-dataset-name").val();
        if (datasetToDelete!="") {
        var i=submittedDatasets.indexOf(datasetToDelete);
        if (i>=0) {
            if (i==0) {
                submittedDatasets.splice(0,1);
            } else {
                submittedDatasets.splice(i, i);
            }
            if (submittedDatasets.length>0) {
                $("#delete-dataset-name").val(submittedDatasets[submittedDatasets.length-1]);
            }
        } else {
            $("#delete-dataset-name").val("");
            }

        $.ajax({
            url: fremeApiUrl + "/e-entity/freme-ner/datasets/"+datasetToDelete,
            type: "DELETE",
            success: function(result){
                $("#delete-results").text(JSON.stringify(result))},
            error:function(result){
                $("#delete-results").text(JSON.stringify(result))}
        });
        }
    };
       
</script>

<div>

<!--	What is a template -->

    <h2 id="what-is-a-template">What is a template?</h2>
    <p>By our definition, template is a SPARQL CONSTRUCT query which is executed for each string in your NIF document which has associated URL.
    Such SPARQL query is executed against a specified SPARQL (or LDF endpoint) and will usually retrieve some additional information about the string which is usually an entity, term or simply a word or phrase.
    For example, a template could retrieve the top 5 closests museums to a city which is annotated in your NIF document and identified with e URI (e.g. DBpedia URI).</p>
    <p>Each template consists of: ID that identifies the template, SPARQL query, human readable label, short description, URL to the endpoint, and information about the type of the endpoint, whether its SPARQL or LDF endpoint.</p>
    <p>In the following examples you can learn <a href="#step-1-enrich">how to enrich content with e template</a>, <a href="#step-3-template-manipulation">how to manipulate with templates</a> (<a href="#step-3-1-template-manipulation">retrieve</a>, <a href="#step-3-3-template-manipulation">create</a>, <a href="#step-3-4-template-manipulation">update</a> or <a href="#step-3-5-template-manipulation">remove</a> a template).
    You can also learn about the <a href="#freme-endpoints">SPARQL and LDF endpoints deployed by FREME</a>.</p>
	
<!--	Enrichment of content -->

    <h2 id="step-1-enrich">Step 1: Enrich NIF content with predefined query templates</h2>
    <p>First we need to prepare the content for enrichment.
    The dataset should be provided in RDF.</p>

    <p><strong>Content for enrichment</strong><br/>
    Paste here the content for enrichment. It should be valid RDF in the serialization format as specified bellow.<br/>
    <textarea id="data-for-enrichment" cols="130" rows="10" > @prefix dc:    <http://purl.org/dc/elements/1.1/> .
 @prefix nif:   <http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core#> .
 @prefix itsrdf: <http://www.w3.org/2005/11/its/rdf#> .
 @prefix dcterms: <http://purl.org/dc/terms/> .
 @prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
 @prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
 @prefix owl:   <http://www.w3.org/2002/07/owl#> .
 @prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

<http://127.0.0.1:9995/spotlight#char=0,15>
 a                     nif:Context , nif:Sentence , nif:RFC5147String ;
 nif:beginIndex        "0" ;
 nif:endIndex          "15" ;
 nif:isString          "This is Berlin." ;
 nif:referenceContext  <http://127.0.0.1:9995/spotlight#char=0,15> .

<http://127.0.0.1:9995/spotlight#char=8,14>
 a                     nif:Word , nif:RFC5147String ;
 nif:anchorOf          "Berlin" ;
 nif:beginIndex        "8" ;
 nif:endIndex          "14" ;
 nif:referenceContext  <http://127.0.0.1:9995/spotlight#char=0,15> ;
 itsrdf:taIdentRef     <http://dbpedia.org/resource/Berlin> .</textarea></p>
    <br/>

    <p>
    <strong>Serialization format</strong><br/>
    Specify the RDF serialization format of the dataset.<br/>
    <input id="enrichment-informat" type="text" value="turtle" /></p>
    <br/>
    
    <p><strong>Template ID</strong><br/>
    The ID of the template which will be used to enrich the data.<br/>
    <input id="enrichment-template-id" type="text" value="1"></p>
    <br/>

    <button onclick="sendDataForEnrichment();">Submit the data!</button>

    <h3>Response</h3>
    <pre id="enrichment-response">
    	Here you will get information whether your dataset was successfully accepted and processed.
    </pre>

<!--	Resource explore  -->

    <h2 id="step-2-explore">Step 2: Exploring a resource against a SPARQL or LDF endpoint</h2>
    <p>E-Link also provides an option to return information about a single resource.</p>

    <p>
    <strong>Resource URI</strong><br/>
    Specify the URI of the resource. E.g. "resource=http://dbpedia.org/resource/Berlin".<br/>
    <input id="resource-uri" type="text" value="http://dbpedia.org/resource/Berlin" size="35" /></p>
    <br/>

    <p>
    <strong>Endpoint URL</strong><br/>
    A URL of the endpoint which should be used to retrieve info about the resource.
    Note that the URL should be UTF-8 encoded<br/>
    <input id="endpoint-url" type="text" value="http://dbpedia.org/sparql" size="35" /></p>
    <br/>
    
    <p><strong>Endpoint type</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="endpoint-type" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendExploreResource();">Process the text!</button>

    <h3>Response</h3>
    <pre id="explore-resource-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
<!--	Manipulation with templates  -->

    <h2 id="step-3-template-manipulation">Step 3: Manipulation with templates</h2>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>

    <h3 id="step-3-1-template-manipulation">Retrieve all templates</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <button onclick="sendGetAllTemplates();">Run</button>

    <h3>Response</h3>
    <pre id="get-all-templates-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>

    <h3 id="step-3-2-template-manipulation">Get one template</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The ID of the template. Accepted values: sparql or ldf<br/>
    <input id="get-one-template-id" type="text" value="1"></p>
    <br/>

    <button onclick="sendGetOneTemplate();">Run</button>

    <h3>Response</h3>
    <pre id="get-one-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h3 id="step-3-3-template-manipulation">Create template (does not work)</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>

    <p><strong>Template definition</strong><br/>
    Paste here the content for enrichment. It should be valid RDF in the serialization format as specified bellow.<br/>
    <textarea id="template-data" cols="130" rows="10" >{
    "query": "PREFIX dbpedia: <http://dbpedia.org/resource/>\n      PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>\n      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>\n      CONSTRUCT\n      {\n        ?museum <http://xmlns.com/foaf/0.1/based_near> <@@@entity_uri@@@> .\n      }\n      WHERE\n      {\n          <@@@entity_uri@@@> geo:geometry ?citygeo .\n          ?museum rdf:type <http://schema.org/Museum> .\n          ?museum geo:geometry ?museumgeo .\n          FILTER (<bif:st_intersects>(?museumgeo, ?citygeo, 10))\n      }\n      LIMIT 10",
    "endpoint": "http://dbpedia.org/sparql/",
    "label": "template title",
    "description": "template description",
    "endpointType": "sparql",
    "visibility": "public"
}</textarea></p>
    <br/>
    
    <button onclick="sendCreateTemplate();">Run</button>
    
    <h3>Response</h3>
    <pre id="create-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h3 id="step-3-4-template-manipulation">Update template (does not work)</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template definition</strong><br/>
    Paste here the content for enrichment. It should be valid RDF in the serialization format as specified bellow.<br/>
    <textarea id="template-data-update" cols="130" rows="10" >{
    "query": "PREFIX dbpedia: <http://dbpedia.org/resource/>\n      PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>\n      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>\n      CONSTRUCT\n      {\n        ?museum <http://xmlns.com/foaf/0.1/based_near> <@@@entity_uri@@@> .\n      }\n      WHERE\n      {\n          <@@@entity_uri@@@> geo:geometry ?citygeo .\n          ?museum rdf:type <http://schema.org/Museum> .\n          ?museum geo:geometry ?museumgeo .\n          FILTER (<bif:st_intersects>(?museumgeo, ?citygeo, 10))\n      }\n      LIMIT 10",
    "endpoint": "http://dbpedia.org/sparql/",
    "label": "template title",
    "description": "template description",
    "endpointType": "sparql",
    "visibility": "public"
}</textarea></p>
    <br/>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="template-id-for-update" type="text" value="enter the template ID"></p>
    <br/>

    <button onclick="sendUpdateTemplate();">Run</button>
    
    <h3>Response</h3>
    <pre id="update-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h3 id="step-3-5-template-manipulation">Remove a template (does not work)</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="remove-template-id" type="text" value="the template ID"></p>
    <br/>

    <button onclick="sendRemoveTemplate();">Run</button>
    
    <h3>Response</h3>
    <pre id="remove-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h2 id="freme-endpoints">FREME SPARQL and Linked Data Fragments endpoints</h2>
    <p>Since e-Link is dependent on SPARQL and Linked Data Fragments endpoints FREME also hosts both of them.</p>
    <ul>
    	<li><b>FREME LDF endpoint:</b> The main lainging page of the LDF endpoint can be found at <a href="http://rv2622.1blu.de:5000/" target="_blank">http://rv2622.1blu.de:5000/</a>.
    	Via this page a user can access and query the deployed datasets via the e-Link service.
    	E.g. the LDF endpoint of the ORCID datset is <a href="http://rv2622.1blu.de:5000/orcid" target="_blank">http://rv2622.1blu.de:5000/orcid</a> and <a href="http://rv2622.1blu.de:5000/cordis" target="_blank">http://rv2622.1blu.de:5000/cordis</a> for the CORDIS FP7 dataset.</li>

    	<li><b>FREME SPARQL endpoint:</b> FREME also hosts a SPARQL endpoint at <a href="http://rv2622.1blu.de:8890/sparql/" target="_blank">http://rv2622.1blu.de:8890/sparql/</a>.
    	The endpoint is provided via the Viruoso triple store.</li>
    	
    </ul>
    
    <br/><br/><br/><br/>


</div>
