---
layout: page 
title: Getting started with e-Link
dropdown: Tutorials
pos: 3.1
---

<h1>Getting started with e-Link</h1>
<div>
    <h2>Introduction</h2>
    <p>This service accepts a NIF document (with annotated entities) and performs enrichment with pre-defined templates.
    The templates contain "fields" marked between three at-signs @@@field-name@@@.
    If a user, while calling the enrichment endpoint specifies an "unknown" parameter (not from the list above), then the values of that "unknown" parameters will be used to replace with the corresponding "field" in the query template.</p>
    
    <h3>Quick links</h3>
    <ol>
    	<li><a href="#pre-requisites">Pre-requisites</a></li>
    	<li><a href="#step-1-enrich">Enrich NIF content with predefined query templates</a></li>
    	<li><a href="#step-2-explore">Exploring a resource against a SPARQL or LDF endpoint</a></li>
    	<li><a href="#step-3-template-manipulation">Manipulation with templates</a>
	    <ol>
                <li><a href="#step-3-1-template-manipulation">Get all templates</a></li>
                <li><a href="#step-3-2-template-manipulation">Get one template</a></li>
                <li><a href="#step-3-3-template-manipulation">Create template</a></li>
                <li><a href="#step-3-4-template-manipulation">Update template</a></li>
                <li><a href="#step-3-5-template-manipulation">Remove template</a></li>
	    </ol>
    	</li>
    	<li><a href="#freme-endpoints">FREME SPARQL and LDF endpoints </a></li>
    </ol>
    
</div>

<div>
    <h2 id="pre-requisites">Pre-requisites</h2>
    <ol>
        <li>A pre-defined SPARQL template.</li>
        <li>An RDF document for enrichment.</li>
    </ol>
</div>

<script type="text/javascript">
    var datasetName;
    var submittedDatasets=[];

    function updateDatasetName(){
        datasetName=$("#dataset-name").val();
    }

    $("#dataset-name").change(updateDatasetName);

    function sendDatasetCreateRequest() {
        updateDatasetName();
	$.ajax({
	    url: fremeApiUrl + "/e-entity/freme-ner/datasets?"
	    +"informat="+$("#informat-dataset").val()
	    +"&name="+datasetName
	    +"&description="+$("#dataset-description").val()
	    +"&language=en"
	    +"&outformat=json",
            type: "POST",
	    dataType: "text",
	    contentType: 'text/plain',
            data: $("#data-for-enrichment").val(),
        success : function(result){
            submittedDatasets.push(datasetName);
            $("#delete-dataset-name").val(datasetName);
            $("#dataset-creation-response").text(result)},
        error: function(result){
            $("#dataset-creation-response").text(JSON.stringify(result))}
	});
       };
       
    function sendDataForEnrichment() {
	$.ajax({
	    url: fremeApiUrl + "/e-link/documents?"
	    +"informat="+$("#enrichment-informat").val()
	    +"&templateid="+$("#enrichment-template-id").val(),
            type: "POST",
	    dataType: "text",
	    contentType: "text/turtle",
            data: $("#input-text").val()
        }).done(function(result){
    	    $("#enrichment-response").text(result);
	}).fail(function(result) {
    	    $("#enrichment-response").text(JSON.stringify(result));
	});
       };
       
    function sendDatasetDeleteRequest() {
        var datasetToDelete= $("#delete-dataset-name").val();
        if (datasetToDelete!="") {
        var i=submittedDatasets.indexOf(datasetToDelete);
        if (i>=0) {
            if (i==0) {
                submittedDatasets.splice(0,1);
            } else {
                submittedDatasets.splice(i, i);
            }
            if (submittedDatasets.length>0) {
                $("#delete-dataset-name").val(submittedDatasets[submittedDatasets.length-1]);
            }
        } else {
            $("#delete-dataset-name").val("");
            }

        $.ajax({
            url: fremeApiUrl + "/e-entity/freme-ner/datasets/"+datasetToDelete,
            type: "DELETE",
            success: function(result){
                $("#delete-results").text(JSON.stringify(result))},
            error:function(result){
                $("#delete-results").text(JSON.stringify(result))}
        });
        }
    };
       
</script>

<div>
	
<!--	Enrichment of content -->

    <h2 id="step-1-enrich">Step 1: Enrich NIF content with predefined query templates</h2>
    <p>First we need to prepare the content for enrichment.
    The dataset should be provided in RDF.</p>

    <p><strong>Content for enrichment</strong><br/>
    Paste here the content for enrichment. It should be valid RDF in the serialization format as specified bellow.<br/>
    <textarea id="data-for-enrichment" cols="130" rows="10" > @prefix dc:    <http://purl.org/dc/elements/1.1/> .
 @prefix nif:   <http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core#> .
 @prefix itsrdf: <http://www.w3.org/2005/11/its/rdf#> .
 @prefix dcterms: <http://purl.org/dc/terms/> .
 @prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
 @prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
 @prefix owl:   <http://www.w3.org/2002/07/owl#> .
 @prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

<http://127.0.0.1:9995/spotlight#char=0,15>
 a                     nif:Context , nif:Sentence , nif:RFC5147String ;
 nif:beginIndex        "0" ;
 nif:endIndex          "15" ;
 nif:isString          "This is Berlin." ;
 nif:referenceContext  <http://127.0.0.1:9995/spotlight#char=0,15> .

<http://127.0.0.1:9995/spotlight#char=8,14>
 a                     nif:Word , nif:RFC5147String ;
 nif:anchorOf          "Berlin" ;
 nif:beginIndex        "8" ;
 nif:endIndex          "14" ;
 nif:referenceContext  <http://127.0.0.1:9995/spotlight#char=0,15> ;
 itsrdf:taIdentRef     <http://dbpedia.org/resource/Berlin> .</textarea></p>
    <br/>

    <p>
    <strong>Serialization format</strong><br/>
    Specify the RDF serialization format of the dataset.<br/>
    <input id="enrichment-informat" type="text" value="turtle" /></p>
    <br/>
    
    <p><strong>Template ID</strong><br/>
    The ID of the template which will be used to enrich the data.<br/>
    <input id="enrichment-template-id" type="text" value="1"></p>
    <br/>

    <button onclick="sendDataForEnrichment();">Submit the data!</button>

    <h3>Response</h3>
    <pre id="enrichment-response">
    	Here you will get information whether your dataset was successfully accepted and processed.
    </pre>

<!--	Resource explore  -->

    <h2 id="step-2-explore">Step 2: Exploring a resource against a SPARQL or LDF endpoint</h2>
    <p>E-Link also provides an option to return information about a single resource.</p>

    <p>
    <strong>Resource URI</strong><br/>
    Specify the URI of the resource. E.g. "resource=http://dbpedia.org/resource/Berlin".<br/>
    <input id="resource-uri" type="text" value="http://dbpedia.org/resource/Berlin" /></p>
    <br/>

    <p>
    <strong>Endpoint URL</strong><br/>
    A URL of the endpoint which should be used to retrieve info about the resource.
    Note that the URL should be UTF-8 encoded<br/>
    <input id="endpoint-url" type="text" value="http://dbpedia.org/sparql" /></p>
    <br/>
    
    <p><strong>Endpoint type</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="endpoint-type" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendExploreResource();">Process the text!</button>

    <h3>Response</h3>
    <pre id="explore-resource-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
<!--	Manipulation with templates  -->

    <h2 id="step-3-template-manipulation">Step 3: Manipulation with templates</h2>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>

    <h3 id="step-3-1-template-manipulation">Retrieve all templates</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <button onclick="sendGetAllTemplates();">Run</button>

    <h3>Response</h3>
    <pre id="get-all-templates-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>

    <h3 id="step-3-2-template-manipulation">Get one template</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="get-one-template-id" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendGetOneTemplate();">Run</button>
    
    <h3 id="step-3-3-template-manipulation">Create template</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="get-one-template-id" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendCreateTemplate();">Run</button>
    
    <h3 id="step-3-4-template-manipulation">Update template</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="get-one-template-id" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendUpdateTemplate();">Run</button>
    
    <h3>Response</h3>
    <pre id="get-one-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h3 id="step-3-5-template-manipulation">Remove a template</h3>
    <p>If you are not familiar with RDF/NIF format, you can retrieve the results in a simplified form (e.g. in CSV) by specifying filter. In the following example we are using the "extract-entities-only" filter which will output the results in CSV.</p>
    
    <p><strong>Template ID</strong><br/>
    The type of the endpoint. Accepted values: sparql or ldf<br/>
    <input id="remove-template-id" type="text" value="sparql"></p>
    <br/>

    <button onclick="sendRemoveTemplate();">Run</button>
    
    <h3>Response</h3>
    <pre id="remove-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    
    <h3>Response</h3>
    <pre id="create-template-results">
    	Here you will get the results from the named entity recognition using your dataset.
    </pre>
    

    <p> Name of dataset which you want to delete:<br><br></p>
    <input id="delete-dataset-name" type="text" value="">
    <p></p>
    <pre id="delete-results">
    	Here you will get the response from your delete request.
    </pre>
    <p></p>

    <button onclick="sendDatasetDeleteRequest()">Delete the Dataset </button>

    <h2 id="freme-endpoints">FREME SPARQL and LDF endpoints</h2>
    <p>E-Link also provides an option to return information about a single resource.</p>
    
    <br/><br/><br/><br/>


</div>
